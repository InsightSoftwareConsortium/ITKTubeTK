<?xml version="1.0" encoding="UTF-8"?>
<executable>
  <category>TubeTK</category>
  <title>Segment Tubes (TubeTK)</title>
  <description>Extracts a 1D scaled ridge and estimate its radius in an ND image.</description>
  <version>0.1.0.$Revision: 2104 $(alpha)</version>
  <documentation-url>http://public.kitware.com/Wiki/TubeTK</documentation-url>
  <license>Apache 2.0</license>
  <contributor>Stephen R. Aylward (Kitware)</contributor>
  <acknowledgements>This work is part of the TubeTK project at Kitware.</acknowledgements>
  <parameters>
    <label>IO</label>
    <description>Input/output parameters</description>
    <image>
      <name>inputVolume</name>
      <label>Input Volume</label>
      <channel>input</channel>
      <index>0</index>
      <description>Input volume</description>
      <default></default>
    </image>
    <file>
      <name>outputTubeFile</name>
      <label>Output Tube File (tre)</label>
      <channel>output</channel>
      <index>1</index>
      <description>Output tube file</description>
      <default></default>
    </file>
  </parameters>
  <parameters advanced="true">
    <label>Ridges</label>
    <description>Ridges</description>
    <file>
      <name>seedsInIndexSpaceListFile</name>
      <label>Seed list file</label>
      <channel>input</channel>
      <flag>f</flag>
      <longflag>seedList</longflag>
      <description>List seed points in image's index space stored in a file.  The format is lines of the form I1 ... ID S, where Ij is the jth component of the seed index and S the seed point's initial radius estimate (and scale) in physical space.</description>
      <default></default>
    </file>
    <file>
      <name>seedsInObjectSpaceListFile</name>
      <label>Seeds file</label>
      <longflag>seedInObjectSpaceListFile</longflag>
      <channel>input</channel>
      <description>List seed points in image's index space stored in a file.  The format is lines of the form I1 ... ID S, where Ij is the jth component of the seed in physical space  and S the seed point's initial radius estimate (and scale) in physical space.</description>
      <default></default>
    </file>
    <double>
      <name>radiusInObjectSpace</name>
      <label>Radius of Ridge</label>
      <description>Radius (and scale) used for ridge measures</description>
      <longflag>radius</longflag>
      <flag>s</flag>
      <default>2.0</default>
    </double>
    <point multiple="true">
      <name>seedI</name>
      <label>Seed index</label>
      <longflag>seedI</longflag>
      <flag>i</flag>
      <description>Continuous index for starting ridge extraction</description>
      <default></default>
    </point>
    <point multiple="true" coordinateSystem="lps">
      <name>seedP</name>
      <label>Seed physical coordinate</label>
      <longflag>seedP</longflag>
      <flag>p</flag>
      <description>Physical coordinate seed for ridge extraction</description>
      <default></default>
    </point>
    <image>
      <name>seedMask</name>
      <label>Seed mask file</label>
      <longflag>seedMask</longflag>
      <flag>M</flag>
      <description>Image mask where non-zero values are used as seeds.</description>
      <channel>input</channel>
      <default></default>
    </image>
    <image>
      <name>radiusMask</name>
      <label>Radius mask file</label>
      <longflag>radiusMask</longflag>
      <flag>S</flag>
      <description>Intensity is initial extraction scale for that point</description>
      <channel>input</channel>
      <default></default>
    </image>
    <integer>
      <name>seedMaskStride</name>
      <label>Radius mask stride</label>
      <longflag>seedMaskStride</longflag>
      <flag>T</flag>
      <description>Only use 1/stride seed points</description>
      <default>4</default>
    </integer>
  </parameters>
  <parameters advanced="true">
    <label>Radius</label>
    <description>Parameters for radius estimation</description>
    <image>
      <name>radiusInputVolume</name>
      <label>Radius input image</label>
      <longflag>radiusInputVolume</longflag>
      <flag>R</flag>
      <description>Use for radius estimation instead of input image</description>
      <channel>input</channel>
      <default></default>
    </image>
  </parameters>
  <parameters>
    <label>Extraction Parameters</label>
    <image>
      <name>existingVesselsMask</name>
      <label>Existing vessels mask</label>
      <longflag>existingVesselsMask</longflag>
      <flag>e</flag>
      <description>Vessel mask generated by previous runs of SegmentTubes</description>
      <channel>input</channel>
      <default></default>
    </image>
    <file>
      <name>existingVessels</name>
      <label>Existing vessels</label>
      <longflag>existingVessels</longflag>
      <flag>v</flag>
      <description>Vessels already extracted by previous runs of SegmentTubes</description>
      <channel>input</channel>
      <default></default>
    </file>
    <double>
      <name>border</name>
      <label>Edge border</label>
      <description>Distance from edge (in voxels) to ignore</description>
      <longflag>border</longflag>
      <flag>b</flag>
      <default>5</default>
    </double>
    <file>
      <name>parametersFile</name>
      <label>Parameters File</label>
      <channel>input</channel>
      <flag>P</flag>
      <longflag>parametersFile</longflag>
      <description>Parameters for ridge and radius extraction</description>
      <default></default>
    </file>
  </parameters>
  <parameters>
    <label>Output Parameters</label>
    <image>
      <name>outputTubeImage</name>
      <label>Output Rendered Tube Image</label>
      <flag>o</flag>
      <channel>output</channel>
      <description>Output binary mask of extracted tubes</description>
    </image>
  </parameters>
</executable>
